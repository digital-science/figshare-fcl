import { useState, useEffect, useCallback, useMemo } from "react";
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { Avatar } from "@figshare/fcl/avatar";
import { Button } from "@figshare/fcl/button";
import image from "../../assets/avatar.png";
import imageWithTransparentBackground from "../../assets/avatar-transparent-background.png";

<Meta
  title="UI/Avatar"
  component={Avatar}
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true }
     },
  }}
/>

# Avatar
---
- [Overview](#overview)
- [Props](#props-table)
- [Examples](#examples)

## Overview

An user avatar display component, that can show an existing avatar or the user\'s initials, if provided an URL and a first and last name.
Will fallback to showing the initials if the avatar image could not be loaded.

<Story
  name="Avatar"
  parameters={{
    layout: "centered",
  }}
>
  {() => {
    return (
      <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
        <div style={{ display: "flex", flexDirection: "row", gap: "12px" }}>
          <Avatar firstName="John" lastName="Doe" />
          <Avatar firstName="John" lastName="Doe" url={image} />
        </div>
      </div>
    )
  }}
</Story>

The component can be imported from `@figshare/fcl/avatar`.
See the example below on how add an avatar to your pages.


```jsx
import React from "react";
import { Avatar } from "@figshare/fcl/avatar";

function AvatarExample() {
    return (
      <div className="user-card">
        <Avatar firstName="John" lastName="Doe" />
        <h3>John Doe</h3>
      </div>
      <div className="user-card">
        <Avatar firstName="John" lastName="Doe" url="https://i.pravatar.cc/300?img=70" />
        <h3>John Doe (with image url)</h3>
      </div>
    );
}
```

## Props Table
<ArgsTable of={Avatar} />

## Examples
<Canvas>
    <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
      <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
      <div>
          <Avatar firstName="John" lastName="Doe" />
          <span>Avatar without image</span>
        </div>
        <div>
          <Avatar firstName="John" lastName="Doe" url={image} />
          <span>Avatar with valid image</span>
        </div>
        <div>        
          <Avatar firstName="John" lastName="Doe" url={imageWithTransparentBackground} />
          <span>Avatar with trasparent background</span>
        </div>
      </div>
    </div>
</Canvas>
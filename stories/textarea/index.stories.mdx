import { useState, useCallback } from "react";
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import Textarea from "@figshare/ui/textarea";

export const ControlledTextarea = (props) => {
  const [value, setValue] = useState("");
  const onChange = useCallback((event) => {
    setValue(event.target.value);
  }, [setValue]);
  return (<Textarea {...props} value={value} onChange={onChange} />);
};

<Meta 
  title="UI/Textarea" 
  component={Textarea}
  parameters={{
    viewMode: 'docs',
    previewTabs: { 
      canvas: { hidden: true } 
     },
  }}
/>

# Textarea
---

- [Overview](#overview)
- [Props](#props-table)
- [Examples](#examples)

## Overview

Textarea input. Useful for inputing large volume text, or text that is required to span multiple lines.

<Story 
  name="Textarea" 
  parameters={{
    layout: "centered",
    jest: ["ui/src/textarea"],
  }}
>
  {() => {
    const [value, setValue] = useState("");
    const onChange = useCallback((event) => {
      setValue(event.target.value);
    }, [setValue]);
    return (<Textarea placeholder="Input text..." value={value} onChange={onChange} />);
  }}
</Story>

The component can be imported from:

```jsx
import Textarea from "@figshare/fcl/textarea";

function ControlledTextarea() {
  const [value, setValue] = useState("");
  const onChange = useCallback((event) => {
    setValue(event.target.value);
  }, [setValue]);
  return (<Textarea placeholder="Input text..." value={value} onChange={onChange} />);
}
```
## Props Table

<ArgsTable of={Textarea} />
Remaining set properties are desturctured and passed to the component node*

## Examples

<Canvas>
  <ControlledTextarea theme="default" placeholder="Default theme" />
  <ControlledTextarea theme="underline" placeholder="Underline theme" />
  <ControlledTextarea theme="default" error={true} placeholder="Default theme - error" />
  <ControlledTextarea theme="underline" error={true} placeholder="Underline theme - error" />
  <ControlledTextarea theme="default" disabled={true} placeholder="Default theme - disabled" />
  <ControlledTextarea theme="underline" disabled={true} placeholder="Underline theme - disabled" />
</Canvas>
